@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(248, 50%, 99%);
  --foreground: hsl(210, 6%, 12%);
  --muted: hsl(210, 4%, 96%);
  --muted-foreground: hsl(215, 16%, 40%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(210, 6%, 12%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(210, 6%, 12%);
  --border: hsl(214, 13%, 90%);
  --input: hsl(214, 13%, 90%);
  --primary: hsl(207, 90%, 50%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(159, 84%, 35%);
  --secondary-foreground: hsl(0, 0%, 100%);
  --accent: hsl(0, 84%, 55%);
  --accent-foreground: hsl(0, 0%, 100%);
  --destructive: hsl(0, 84%, 55%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --ring: hsl(207, 90%, 50%);
  --radius: 0.5rem;
  --success: hsl(142, 76%, 32%);
  --success-foreground: hsl(0, 0%, 100%);
  --slate: hsl(210, 6%, 12%);
}

.dark {
  --background: hsl(240, 10%, 4%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 4%, 16%);
  --muted-foreground: hsl(240, 5%, 70%);
  --popover: hsl(240, 10%, 4%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 4%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 4%, 16%);
  --input: hsl(240, 4%, 16%);
  --primary: hsl(207, 90%, 60%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(159, 84%, 45%);
  --secondary-foreground: hsl(0, 0%, 100%);
  --accent: hsl(0, 84%, 65%);
  --accent-foreground: hsl(0, 0%, 100%);
  --destructive: hsl(0, 84%, 65%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --ring: hsl(207, 90%, 60%);
  --success: hsl(142, 76%, 40%);
  --success-foreground: hsl(0, 0%, 100%);
  --slate: hsl(0, 0%, 98%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }
}

@layer components {
  .text-slate {
    color: var(--slate);
  }
  
  .text-success {
    color: var(--success);
  }
  
  .bg-success {
    background-color: var(--success);
  }
  
  .text-secondary {
    color: var(--secondary);
  }
  
  .bg-secondary {
    background-color: var(--secondary);
  }
  
  .text-accent {
    color: var(--accent);
  }
  
  .bg-accent {
    background-color: var(--accent);
  }
  
  /* Enhanced focus indicators for accessibility */
  .focus-visible {
    outline: 2px solid var(--ring);
    outline-offset: 2px;
  }
  
  /* Status indicators with patterns for color-blind accessibility */
  .status-success {
    @apply bg-success text-white;
    background-image: url("data:image/svg+xml,%3csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cpattern id='success-pattern' patternUnits='userSpaceOnUse' width='4' height='4'%3e%3cpath d='M0,0 l4,4 M4,0 l-4,4' stroke='%23ffffff' stroke-width='0.5' opacity='0.2'/%3e%3c/pattern%3e%3c/defs%3e%3crect width='100' height='100' fill='url(%23success-pattern)'/%3e%3c/svg%3e");
  }
  
  .status-warning {
    @apply bg-yellow-500 text-white;
    background-image: url("data:image/svg+xml,%3csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cpattern id='warning-pattern' patternUnits='userSpaceOnUse' width='6' height='6'%3e%3ccircle cx='3' cy='3' r='1' fill='%23ffffff' opacity='0.3'/%3e%3c/pattern%3e%3c/defs%3e%3crect width='100' height='100' fill='url(%23warning-pattern)'/%3e%3c/svg%3e");
  }
  
  .status-error {
    @apply bg-accent text-white;
    background-image: url("data:image/svg+xml,%3csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cpattern id='error-pattern' patternUnits='userSpaceOnUse' width='8' height='8'%3e%3cpath d='M0,8 l8,-8 M-2,2 l4,-4 M6,10 l4,-4' stroke='%23ffffff' stroke-width='1' opacity='0.2'/%3e%3c/pattern%3e%3c/defs%3e%3crect width='100' height='100' fill='url(%23error-pattern)'/%3e%3c/svg%3e");
  }
  
  /* High contrast text utilities */
  .text-high-contrast {
    color: var(--foreground);
    font-weight: 500;
  }
  
  .text-medium-contrast {
    color: var(--muted-foreground);
    font-weight: 400;
  }
  
  /* Accessible interactive elements */
  .interactive-element {
    @apply transition-all duration-200 ease-in-out;
  }
  
  .interactive-element:hover {
    @apply transform translate-y-[-1px] shadow-md;
  }
  
  .interactive-element:focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }
  
  /* Screen reader only content */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Mobile-first responsive utilities */
  .responsive-text {
    font-size: 0.875rem; /* 14px */
    line-height: 1.25rem; /* 20px */
  }
  
  @media (min-width: 640px) {
    .responsive-text {
      font-size: 1rem; /* 16px */
      line-height: 1.5rem; /* 24px */
    }
  }
  
  .responsive-heading {
    font-size: 1.5rem; /* 24px */
    line-height: 2rem; /* 32px */
  }
  
  @media (min-width: 640px) {
    .responsive-heading {
      font-size: 1.875rem; /* 30px */
      line-height: 2.25rem; /* 36px */
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-heading {
      font-size: 2.25rem; /* 36px */
      line-height: 2.5rem; /* 40px */
    }
  }

  /* Responsive grid layouts */
  .responsive-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  @media (min-width: 640px) {
    .responsive-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }
  }

  /* Responsive padding and margins */
  .responsive-padding {
    padding: 1rem;
  }
  
  @media (min-width: 640px) {
    .responsive-padding {
      padding: 1.5rem;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-padding {
      padding: 2rem;
    }
  }

  /* Touch-friendly interactive elements */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Prevent horizontal scrolling on mobile */
  .prevent-scroll {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* RTL Language Support */
  [dir="rtl"] {
    text-align: right;
  }

  [dir="rtl"] .flex {
    flex-direction: row-reverse;
  }

  [dir="rtl"] .space-x-2 > :not([hidden]) ~ :not([hidden]) {
    margin-left: 0;
    margin-right: 0.5rem;
  }

  [dir="rtl"] .ml-2 {
    margin-left: 0;
    margin-right: 0.5rem;
  }

  [dir="rtl"] .mr-2 {
    margin-right: 0;
    margin-left: 0.5rem;
  }

  [dir="rtl"] .pl-4 {
    padding-left: 0;
    padding-right: 1rem;
  }

  [dir="rtl"] .pr-4 {
    padding-right: 0;
    padding-left: 1rem;
  }

  /* Accessibility enhancements */
  .reduced-motion * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .high-contrast {
    --background: hsl(0, 0%, 0%);
    --foreground: hsl(0, 0%, 100%);
    --muted: hsl(0, 0%, 10%);
    --muted-foreground: hsl(0, 0%, 90%);
    --border: hsl(0, 0%, 100%);
    --input: hsl(0, 0%, 10%);
    --primary: hsl(210, 100%, 50%);
    --secondary: hsl(120, 100%, 50%);
    --accent: hsl(0, 100%, 50%);
    --destructive: hsl(0, 100%, 50%);
  }

  .large-text {
    font-size: 1.25em;
    line-height: 1.6;
  }

  .large-text h1 {
    font-size: 2.5em;
  }

  .large-text h2 {
    font-size: 2em;
  }

  .large-text h3 {
    font-size: 1.75em;
  }

  .large-text button {
    font-size: 1.125em;
    padding: 0.75rem 1.5rem;
  }

  .large-text input,
  .large-text textarea,
  .large-text select {
    font-size: 1.125em;
    padding: 0.75rem;
  }

  /* Focus management */
  .focus-visible-enabled *:focus-visible {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
  }

  /* Skip links */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--background);
    color: var(--foreground);
    padding: 8px;
    text-decoration: none;
    border: 1px solid var(--border);
    border-radius: 4px;
    z-index: 9999;
  }

  .skip-link:focus {
    top: 6px;
  }

  /* Language-specific typography adjustments */
  html[lang="ar"],
  html[lang="he"] {
    font-family: 'Noto Sans Arabic', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
  }

  html[lang="zh"] {
    font-family: 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  }

  html[lang="ja"] {
    font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
  }

  /* Improved form validation styles */
  .form-field-error {
    border-color: var(--destructive);
    box-shadow: 0 0 0 1px var(--destructive);
  }

  .form-field-success {
    border-color: var(--success);
    box-shadow: 0 0 0 1px var(--success);
  }

  .form-field-warning {
    border-color: hsl(38, 92%, 50%);
    box-shadow: 0 0 0 1px hsl(38, 92%, 50%);
  }

  /* Enhanced loading states */
  .loading-shimmer {
    background: linear-gradient(
      90deg,
      var(--muted) 0%,
      var(--background) 50%,
      var(--muted) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Table enhancements */
  .table-responsive {
    overflow-x: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--muted) transparent;
  }

  .table-responsive::-webkit-scrollbar {
    height: 8px;
  }

  .table-responsive::-webkit-scrollbar-track {
    background: transparent;
  }

  .table-responsive::-webkit-scrollbar-thumb {
    background-color: var(--muted);
    border-radius: 4px;
  }

  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    .print-only {
      display: block !important;
    }
    
    body {
      font-size: 12pt;
      line-height: 1.4;
    }
    
    h1, h2, h3 {
      page-break-after: avoid;
    }
    
    .page-break {
      page-break-before: always;
    }
  }

  /* Error boundary styles */
  .error-boundary {
    padding: 2rem;
    text-align: center;
    border: 2px dashed var(--destructive);
    border-radius: 8px;
    background: var(--background);
  }

  /* Improved button interactions */
  .button-loading {
    pointer-events: none;
    opacity: 0.6;
  }

  .button-loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    margin: auto;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Notification styles */
  .notification-enter {
    opacity: 0;
    transform: translateX(100%);
  }

  .notification-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: all 0.3s ease-out;
  }

  .notification-exit {
    opacity: 1;
    transform: translateX(0);
  }

  .notification-exit-active {
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.3s ease-in;
  }

  /* Improved scroll behavior */
  .smooth-scroll {
    scroll-behavior: smooth;
  }

  .reduced-motion .smooth-scroll {
    scroll-behavior: auto;
  }

  /* Utility classes for better UX */
  .truncate-multiline {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .fade-in {
    opacity: 0;
    animation: fadeIn 0.5s ease-in forwards;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }

  .slide-in {
    transform: translateY(20px);
    opacity: 0;
    animation: slideIn 0.5s ease-out forwards;
  }

  @keyframes slideIn {
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}
